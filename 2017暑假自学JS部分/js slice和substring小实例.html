<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>js slice和substring小实例</title>
    <style type="text/css">
        p{
            height:200px;
            width:400px;
            border:10px solid gold;
            background:#f1f1f1;
            font-size:17px;
            margin:30px auto;
            font-weight:700;
            text-indent:2em;
        }
    </style>
    <script type="text/javascript">
         window.onload=function(){
            var op=document.getElementsByTagName('p')[0];
            var ospan=op.getElementsByTagName('span')[0];
            var oa=op.getElementsByTagName('a')[0];
            var str=ospan.innerHTML;
            var onoff=true
            oa.onclick=function(){
            if (onoff) {
              ospan.innerHTML=str.substring(0,20);
              oa.innerHTML='>>展开';
           }else{
              ospan.innerHTML=str;
              oa.innerHTML='>>收缩';
}
              onoff=!onoff;
            }
         }
    </script>
</head>
<body>
<p><span>2日，外交部公布印军非法入侵我国领土事实。 2017 年 6 月 16 日，中方在洞朗地区进行道路施工。6 月 18 日，印度边防部队 270 余人携带武器，连同 2 台推土机，在多卡拉山口越过锡金段边界线 100 多米，进入中国境内阻挠中方的修路活动，引发局势紧张。印度边防部队越界人数最多时达到 400 余人，连同 2 台推土机和 3 顶帐篷，越界纵深达到 180 多米。截至 7 月底，印度边防部队仍有 40多人和 1 台推土机在中国领土上非法滞留</span>......<a href="#">>>收缩</a></p>
</body>
</html>